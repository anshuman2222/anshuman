#include <stdio.h>

void
reverse (char *s, char *b)
{
	char tmp;
	while (s < b)
	{
		tmp = *s;
		*s = *b;
		*b = tmp;
		s++; b--;
	}
}

void
reverse_string (char *ch)
{
	char *tmp = ch, *begin = ch;
	
	while (*tmp)
	{
		tmp++;
		if (*tmp == '\0')
		{
			reverse (begin, tmp-1);
		}
		else if (*tmp == ' ')
		{
			reverse (begin, tmp-1);
			begin = tmp+1;
		}
	}
	
	reverse (ch, tmp-1);
}

int main()
{
  char ch[] = "I am root";
  reverse_string (ch);	
  printf ("%s", ch);
  return 0;
}
